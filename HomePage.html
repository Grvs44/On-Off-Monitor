<html>
<head>
    <title>On/Off Monitor Home</title>
    <style>
        body{font-family:'Segoe UI';}
        ul{list-style-type:none;}
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h1>On/Off Monitor Home</h1>
    <ul>
        <li>
        <h2>Log files</h2>
            <ul>
                <li><h3>Download</h3>
                <form method="post" action="log.csv">
                    <ul>
                        <li>
                            <label for="lognum">Using </label>
                            <input type="number" id="lognum" name="lognum" value="1" />
                            <label for="oldfiles">of the oldest files</label>
                            <input type="radio" name="fileage" value="old" id="oldfiles"/>
                            <label for="newfiles">newest files</label>
                            <input type="radio" name="fileage" value="new" id="newfiles" checked/>
                        </li>
                        <li><input type="submit" value="Download"/></li>
                    </ul>
                </form>
                </li>
<li><h3>Delete</h3>
<form method="post" action="deletelogs">
<ul>
<li>
<label for="lognum">Number of log files: </label>
                            <input type="number" id="lognum" name="lognum" value="1" onkeyup="ChangeDeleteLabels(this)" min="1" step="1"/></li>
                            <li><label for="oldfilesd">Delete <span id="deletelabel1">1</span> of the oldest files</label>
                            <input type="radio" name="fileage" value="old" id="oldfilesd"/></li>
                            <li><label for="newfilesd">Keep <span id="deletelabel2">1</span> of the newest files</label>
                            <input type="radio" name="fileage" value="new" id="newfilesd" checked/>
</li>
<li><input type="button" onclick="ConfirmDelete('Delete')" value="Delete" id="deletebutton"/><input type="submit" style="display:none" id="confirmdeletebutton" value="Confirm delete"/>
</ul>
</form>
</li>
            </ul>
        </li>
        <li>
            <h2>Shutdown</h2>
            <form method="post" action="shutdown">
                <ul>
                    <li>
                        <label for="sdrthis">This device</label>
                        <input type="radio" id="sdrthis" value="this" name="devices" checked />
                    </li>
                    <li>
                        <label for="sdrall">All devices</label>
                        <input type="radio" id="sdrall" name="devices" value="all" />
                    </li>
                    <li>
                        <label for="sdrweb">Web service</label>
                        <input type="radio" id="sdrweb" value="web" name="web" checked />
                    </li>
                    <li>
                        <label for="sdrdevice">Web service and device</label>
                        <input type="radio" id="sdrdevice" value="all" name="web" />
                    </li>
                <li><input type="button" value="Shut down" onclick="ConfirmShutdown()" id="sdownbutton"/><input style="display:none" type="submit" id="confirmsdownbutton" value="Confirm shut down"/></li>
                </ul>
            </form>
        </li>
    </ul>
</body>
<script>
function ChangeDeleteLabels(entry){
	document.getElementById("deletelabel1").innerText = document.getElementById("deletelabel2").innerText = entry.value
	let dbtn = document.getElementById("deletebutton")
	dbtn.disabled  = (entry.value=="")
	dbtn.value = "Delete"
	document.getElementById("confirmdeletebutton").style.display = "none"
}
function ConfirmDelete(){
	let btn = document.getElementById("deletebutton")
	btn.value = btn.value=="Delete"?"Decline delete":"Delete"
	let sub = document.getElementById("confirmdeletebutton")
	sub.style.display=sub.style.display=="inline"?"none":"inline"
}
function ConfirmShutdown(){
	let btn = document.getElementById("sdownbutton")
	btn.value=btn.value=="Shut down"?"Decline shut down":"Shut down"
	let sub = document.getElementById("confirmsdownbutton")
	sub.style.display=btn.value=="Shut down"?"none":"inline"
}
</script>
</html>